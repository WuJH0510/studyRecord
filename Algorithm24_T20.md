# 算法学习篇（五）：栈与队列03之括号匹配

## 以力扣20题为例

​		

### 一、算法原理

​		利用栈可以很方便的完成括号匹配的问题。

​		有三种不匹配的情况：

第一种情况，字符串里左方向的括号多余了 ，所以不匹配； 

第二种情况，括号没有多余，但是 括号的类型没有匹配上；

第三种情况，字符串里右方向的括号多余了，所以不匹配。

​		对应到栈也有三种情况：

第一种情况：已经遍历完了字符串，但是栈不为空，说明有相应的左括号没有右括号来匹配，所以return false；

第二种情况：遍历字符串匹配的过程中，发现栈里没有要匹配的字符。所以return false；

第三种情况：遍历字符串匹配的过程中，栈已经为空了，没有匹配的字符了，说明右括号没有找到对应的左括号return false。

### 二、力扣原题

#### （1）[20. 有效的括号](https://leetcode.cn/problems/valid-parentheses/)

- 给定一个只包括 `'('`，`')'`，`'{'`，`'}'`，`'['`，`']'` 的字符串 `s` ，判断字符串是否有效。

  有效字符串需满足：

  1. 左括号必须用相同类型的右括号闭合。
  2. 左括号必须以正确的顺序闭合。
  3. 每个右括号都有一个对应的相同类型的左括号。
  
 
  
**示例 1：**
  
```
  输入：s = "()"
  输出：true
```
  
**示例 2：**
  
```
  输入：s = "()[]{}"
  输出：true
  ```
  
  **示例 3：**
  
  ```
  输入：s = "(]"
  输出：false
  ```
  
   
  
  **提示：**
  
- `1 <= s.length <= 104`
  - `s` 仅由括号 `'()[]{}'` 组成



### 三、代码实现

#### （1）20题

以下是C++代码实现：

```c++
class Solution {
public:
    bool isValid(string s) {
        if(s.size()%2) return false;		//若字符串长度为奇数，则必然不匹配
        stack<char> st;						//定义栈
        for(int i=0;i<s.size();i++)
        {
            if(s[i]=='(') st.push(')');		//字符为左括号时，往栈中输入对应的右括号字符
            else if(s[i]=='[') st.push(']');
            else if(s[i]=='{') st.push('}');
            //当栈为空时遇到右括号（第3种情况）或右括号与栈顶元素不匹配（第二种情况）则返回false
            else if(st.empty()||s[i]!=st.top()) return false;	
            else st.pop();					//右括号与栈顶元素匹配时对应元素出栈
        }
        if(st.empty()) return true;			//左括号已完全匹配，返回true
        else return false;					//完成遍历后有剩余元素，则左括号未完全匹配（第一种情况）返回false
    }
};
```



