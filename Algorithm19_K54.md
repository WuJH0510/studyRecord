# 算法学习篇（四）：字符串02之替换数字

## 以卡码网54题为例

​		

### 一、算法原理

​		先通过统计字符串当中字符为数字(即`‘0’~‘9’`)的个数，从而确定新的字符串的长度，再通过**双指针法**，一个指针指向原字符串末尾，另一个指针指向扩充长度后的字符串末尾，从右往左若非数字字符即直接替换，否则替换为number。

### 二、卡码原题

#### （1）[54. 替换数字（第八期模拟笔试）](https://kamacoder.com/problempage.php?pid=1064)

时间限制：1.000S 空间限制：128MB

###### 题目描述

给定一个字符串 s，它包含小写字母和数字字符，请编写一个函数，将字符串中的字母字符保持不变，而将每个数字字符替换为number。 例如，对于输入字符串 "a1b2c3"，函数应该将其转换为 "anumberbnumbercnumber"。

###### 输入描述

输入一个字符串 s,s 仅包含小写字母和数字字符。

###### 输出描述

打印一个新的字符串，其中每个数字字符都被替换为了number

###### 输入示例

```
a1b2c3
```

###### 输出示例

```
anumberbnumbercnumber
```

###### 提示信息

```
数据范围：
1 <= s.length < 10000。
```

 

### 三、代码实现

#### （1）K54题

以下是C++代码实现：

```c++
#include<iostream>
using namespace std;
int main()
{
    string s;
    while(cin>>s)
    {
        int count=0;					
        int oldSize=s.size();							//记录原字符串长度
        for(int i=0;i<s.size();i++)						//遍历字符串，记录数字出现次数
        {
            if(s[i]>='0'&&s[i]<='9')
            {
                count++;
            }
        }
        s.resize(s.size()+count*5);						//扩充字符串长度
        int newSize=s.size();							//记录新字符串长度
        for(int i=newSize-1,j=oldSize-1;j<i;i--,j--)	//双指针法，一个指针指向原字符串末尾长度位置
        {												//另一个指针指向新字符串末尾长度位置
            if(s[j]<'0'||s[j]>'9')						//非数字则直接替换到新字符串末尾
            {
                s[i]=s[j];
            }
            else										//数字则从后往前替换元素
            {
                s[i]='r';
                s[i-1]='e';
                s[i-2]='b';
                s[i-3]='m';
                s[i-4]='u';
                s[i-5]='n';
                i-=5;									//因为最后还有i--,这里i-=5即可
            }
        }
        cout<<s<<endl;									//返回新字符串
    }
}
```



